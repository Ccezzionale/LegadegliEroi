/* Base */
:root{ --nav:#001f3f; --nav2:#003366; --navHover:#0074D9; --bg:#f4f4f4; --fg:#222; --card:#fff; --border:#ccc; }
*{ box-sizing:border-box }
body { margin:0; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:var(--bg); color:var(--fg); }

/* Navbar */
nav { background:var(--nav); color:#fff; display:flex; align-items:center; padding:10px 20px; flex-wrap:wrap; }
.home-icon { font-size:1.4rem; margin-right:20px; text-decoration:none; color:#fff; }
.hamburger { font-size:1.5rem; cursor:pointer; margin-right:20px; display:none; color:#fff; }
.navbar { list-style:none; padding:0; margin:0; display:flex; flex-direction:row; gap:15px; align-items:center; flex-wrap:wrap; }
.navbar a { text-decoration:none; color:#fff; padding:8px 12px; display:block; border-radius:6px; }
.navbar a:hover { background:var(--navHover); }
.navbar li { position:relative; }
.submenu { display:none; position:absolute; top:100%; left:0; background:var(--nav2); border-radius:4px; z-index:10; min-width:180px; flex-direction:column; }
.dropdown.show .submenu { display:flex; }
.submenu a { font-size:.95rem; }

/* Layout */
main { max-width:1200px; margin:0 auto; padding:16px; }
h1 { color:var(--nav); margin:20px 0 10px; text-align:center; font-size:2rem; }
h2 { color:var(--nav); margin:28px auto 10px; text-align:center }

/* Toolbar */
.switcher { text-align:center; margin:20px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
.switcher input[type="url"]{ width:min(95%,800px); max-width:100%; padding:10px; border-radius:6px; border:1px solid var(--border); background:#fff; }
.switcher select{ padding:10px; border-radius:6px; border:1px solid var(--border); background:#fff; }
.switcher button{ padding:10px 20px; background:var(--nav); color:#fff; border:none; border-radius:6px; cursor:pointer; }
.switcher button:hover{ background:var(--navHover); }
.meta-note, .small-note { color:#555; font-size:.9rem; margin:8px auto 0; text-align:center; }

/* Tabella principale (PR) */
#classifica-container { display:flex; flex-direction:column; align-items:center; padding:10px; }
#tabella-classifica { border-collapse:collapse; width:100%; max-width:1200px; margin-bottom:16px; table-layout:auto; }
#tabella-classifica thead { background:var(--nav); color:#fff; }
#tabella-classifica th, #tabella-classifica td { padding:10px; text-align:center; }
#tabella-classifica th:nth-child(2), #tabella-classifica td:nth-child(2){ text-align:left; white-space:normal; word-break:break-word; }
.riga-classifica { background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,.08); }
.logo-nome { display:flex; align-items:center; gap:8px; overflow:hidden; }
.logo-nome img { width:32px; height:32px; object-fit:contain; border-radius:50%; background:#fff; border:1px solid #eee; }
.mono { font-variant-numeric:tabular-nums; }
.trend.up { color:#2e7d32; font-weight:700 }
.trend.down { color:#c62828; font-weight:700 }

/* Sottotabelle (Hall, Sculati/Sfigati, Curiosità) */
.subtable { width:min(1200px,95%); margin:10px auto 22px; border-collapse:separate; border-spacing:0 6px; }
.subtable thead th { background:var(--nav); color:#fff; padding:10px; border-radius:6px 6px 0 0; }
.subtable tbody tr { background:#fff; border:1px solid var(--border); border-radius:12px; }
.subtable th, .subtable td { padding:10px; text-align:left; }
.badge { display:block; width:min(1200px,95%); margin:6px auto 0; color:var(--nav); font-weight:600; }

.inline-name { display:inline-flex; align-items:center; gap:8px; }
.mini-logo   { width:22px; height:22px; border-radius:50%; object-fit:contain; background:#fff; border:1px solid #eee; vertical-align:middle; }
.subtable td { vertical-align: middle; }

.trend-toolbar{
  display:flex; gap:10px; flex-wrap:wrap; justify-content:center;
  margin:14px 0 8px;
}
.trend-toolbar select, .trend-toolbar button, .trend-toolbar label{
  padding:8px 10px; border-radius:6px; border:1px solid #ccc; background:#fff; color:#222;
}
.trend-toolbar button{ background:#001f3f; color:#fff; border:none; cursor:pointer }
.trend-toolbar button:hover{ background:#0074D9 }

.trend-wrap{ width:min(1200px,95%); margin:0 auto 24px; }
#trendChart{ width:100% !important; height:340px !important; display:block; }


/* ===== MOBILE: sticky "Squadra" con spazio riservato a sinistra ===== */
@media (max-width: 768px) {
  /* scroll orizzontale fluido */
  #classifica-container{
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 8px;
  }

  /* LARGHEZZA riservata alla colonna Squadra (logo+nome) */
  :root{ --stickyW: 240px; }   /* prova 220–260px se serve più/meno spazio */

  /* la tabella non si schiaccia
     e la SPOSTIAMO a destra lasciando spazio alla colonna sticky */
  #tabella-classifica{
    border-collapse: separate !important;
    border-spacing: 0 !important;
    min-width: 900px;              /* contenuto scorrevole a destra */
    margin-left: var(--stickyW);   /* <<< spazio per la colonna fissa */
  }

  /* niente a capo nelle celle */
  #tabella-classifica th,
  #tabella-classifica td{ white-space: nowrap; }

  /* NASCONDI la colonna # su mobile (se la usi, puoi lasciarla visibile)
     così "Squadra" diventa la prima colonna visibile */
  #tabella-classifica thead th:nth-child(1),
  #tabella-classifica tbody td:nth-child(1){
    display: none !important;
  }

  /* "Squadra" (ora 1ª visibile = nth-child(2)) diventa STICKY a sinistra */
  #tabella-classifica thead th:nth-child(2),
  #tabella-classifica tbody td:nth-child(2){
    position: sticky;
    left: 0;                           /* attacca al bordo sinistro */
    z-index: 5;
    background: #fff;
    width: var(--stickyW);             /* stessa misura dello spazio riservato */
    min-width: var(--stickyW);
    max-width: var(--stickyW);
    text-align: left;
    word-break: keep-all !important;
    box-sizing: border-box;
  }
  #tabella-classifica thead th:nth-child(2){
    background: #001f3f; color: #fff; z-index: 6;
  }

  /* bordo/ombra a destra della colonna sticky (opzionale) */
  #tabella-classifica thead th:nth-child(2)::after,
  #tabella-classifica tbody td:nth-child(2)::after{
    content:''; position:absolute; top:0; right:-1px; width:1px; height:100%;
    box-shadow:2px 0 6px rgba(0,0,0,.08);
  }

  /* loghi un filo più piccoli su mobile */
  .logo-nome img{ width:24px; height:24px; }
}
