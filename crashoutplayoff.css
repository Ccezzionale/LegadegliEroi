/* ========== PALETTE & RESET ========== */
:root{
  --bg: #f4f4f4;
  --text: #222;
  --nav: #001f3f;
  --nav-hover: #0074D9;
  --subnav: #003366;
  --accent: #ffcc00;

  --card: #ffffff;
  --muted: #6b7280;
  --line: #e5e7eb;

  --seed-red: #d61f2a;      /* rosso stile NBA */
  --score-red: #c5161f;     /* box risultato */

  /* dimensioni base */
  --seed: 34px;
  --logo: 90px;
  --score: 50px;
  --gap-round: 18px;

  /* geometria match (per offset colonne) */
  --match-h: 190px;                      /* altezza contenuto della card */
  --match-v: calc(var(--match-h) + 18px);/* + padding (8+8) + border (1+1) = 18px */
  --round2-tweak: 16px;                  /* micro-aggiustamento Semifinali */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* ========== NAVBAR (come index) ========== */
nav {
  background-color: var(--nav);
  color: white;
  display: flex;
  align-items: center;
  padding: 10px 20px;
  flex-wrap: wrap;
}
.home-icon { font-size: 1.4rem; margin-right: 20px; text-decoration: none; color: white; }
.hamburger { font-size: 1.5rem; cursor: pointer; margin-right: 20px; display: none; }
.navbar {
  list-style-type: none; padding: 0; margin: 0;
  display: flex; flex-direction: row; gap: 15px; align-items: center; flex-wrap: wrap;
}
.navbar li { position: relative; }
.navbar a { text-decoration: none; color: white; padding: 8px 12px; display: block; }
.navbar a:hover { background-color: var(--nav-hover); border-radius: 6px; }
.submenu {
  display: none; position: absolute; top: 100%; left: 0; background-color: var(--subnav);
  border-radius: 4px; z-index: 10; min-width: 180px; flex-direction: column;
}
.submenu a { font-size: 0.95rem; }
.dropdown.show .submenu { display: flex; }

/* ========== HEADER & TOOLBAR ========== */
.page-header{ max-width: 1200px; margin: 28px auto 8px; padding: 0 16px; }
.page-header h1{
  color: var(--nav); margin: 0 0 6px; font-size: 2.1rem; text-shadow: 2px 2px 8px var(--accent);
}
.page-header p{ margin: 0; color: var(--muted); font-size: 1.02rem; }

.cup-toolbar{
  max-width: 1200px; margin: 12px auto 10px; padding: 0 16px;
  display: flex; gap: 10px; align-items: center; flex-wrap: wrap;
}
.cup-toolbar .btn{
  background: var(--nav); color: #fff; border: 0; padding: 10px 14px;
  border-radius: 10px; cursor: pointer; font-weight: 600; box-shadow: 0 2px 6px rgba(0,0,0,.06);
}
.cup-toolbar .btn:hover{ filter: brightness(1.08); }

/* ========== BRACKET DESKTOP (a colonne) ========== */
.cup-container{ max-width: 100%; margin: 20px 0 40px 24px; padding: 0; }

.bracket.single{
  display: grid;
  grid-template-columns: repeat(4, max-content); /* R1 | SF | CF | Finals */
  column-gap: 28px;
  align-items: start;
  justify-content: flex-start;
}
.round-col{
  display: flex;
  flex-direction: column;
  gap: var(--gap-round);
  width: max-content;
}
.round-col .conf-title{
  margin: 0 0 8px 0;
  font-size: 1.05rem;
  color: var(--nav);
  border-left: 4px solid var(--accent);
  padding-left: 10px;
}

/* Offset dei round per centrare le colonne */
#round-2{ padding-top: calc( (var(--match-v) + var(--gap-round)) / 2 + var(--round2-tweak) ); }
#round-3{ padding-top: calc( 1 * (var(--match-v) + var(--gap-round)) ); }
#round-final{ padding-top: calc( 1.5 * (var(--match-v) + var(--gap-round)) ); }

/* ========== MATCH CARD ========== */
.match{
  position: relative;
  width: 280px;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  display: grid;
  grid-template-rows: auto auto;
  gap: 10px;
  min-height: var(--match-h);
}

/* Riga squadra: seed | logo | punteggio */
.team{
  display: grid;
  grid-template-columns: var(--seed) var(--logo) var(--score);
  align-items: center;
  gap: 8px;
}

/* Seed rosso (solo Round 1) */
.seed{
  width: var(--seed); height: var(--seed);
  background: var(--seed-red); color: #fff;
  display: grid; place-items: center;
  border-radius: 8px; font-weight: 800; font-size: 0.95rem;
}

/* Loghi senza cerchio (puliti, stessa misura) */
.logo-wrap{
  width: var(--logo); height: var(--logo);
  border: 0; border-radius: 0; overflow: visible; background: transparent;
  display: grid; place-items: center;
}
.logo-wrap .logo{ width: 100%; height: 100%; object-fit: contain; display: block; }
.logo.hidden{ display:none; }

/* Box punteggio (uno per squadra) */
.score-box{
  width: var(--score); height: var(--score);
  background: var(--score-red); border-radius: 10px; color: #fff;
  font-weight: 800; font-size: 1.2rem; display: grid; place-items: center;
  outline: none; border: 2px solid #8b0f15; user-select: text;
}
.score-box:empty:before{ content: attr(data-placeholder); opacity: .8; }
.score-box:focus{ box-shadow: 0 0 0 3px rgba(197,22,31,.25); }

/* Seed nascosto dal Round 2 in poi + layout 2 colonne (logo|score) */
#round-2 .seed, #round-3 .seed, #round-final .seed { display: none; }
#round-2 .team, #round-3 .team, #round-final .team{
  grid-template-columns: var(--logo) var(--score);
}

/* Finals: loghi un filo più grandi */
#round-final .team{ grid-template-columns: 104px var(--score); }
#round-final .logo-wrap{ width: 104px; height: 104px; }

/* ========== MOBILE ========== */
.bracket-mobile{ display: none; }

@media (max-width: 768px){
  .hamburger { display: block; }
  .navbar {
    display: none; flex-direction: column; width: 100%; background-color: var(--nav); margin-top: 10px;
  }
  .navbar.show { display: flex; }
  .submenu { position: relative; background-color: var(--subnav); margin-left: 10px; }
  .dropdown .submenu a { padding-left: 20px; }

  /* desktop off, mobile on */
  .bracket { display: none !important; }
  .bracket-mobile {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
    margin: 0 12px 24px;
  }

  .round-mobile{
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: 14px;
    padding: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,.06);
  }
  .round-mobile h3{
    font-size: 1.05rem; color: var(--nav);
    margin: 6px 0 12px;
    border-left: 4px solid var(--accent);
    padding-left: 10px;
  }

  /* Card match mobile compatta */
  .match{ width: 100%; min-height: auto; padding: 10px; gap: 8px; }

  /* Round 1 mobile: seed visibile, dagli altri no */
  .round-mobile[data-round="r1"] .team{ grid-template-columns: 40px 72px var(--score); gap: 10px; }
  .round-mobile[data-round="r1"] .seed{ width: 40px; height: 40px; font-size: .95rem; }

  .round-mobile:not([data-round="r1"]) .seed{ display: none; }
  .round-mobile:not([data-round="r1"]) .team{ grid-template-columns: 72px var(--score); gap: 10px; }

  .round-mobile .logo-wrap{ width: 72px; height: 72px; }
  .round-mobile .score-box{ height: 48px; font-size: 1.15rem; }
}

 /* Card più strette dai turni successivi (desktop) */
@media (min-width: 769px){
  /* Round 2, Round 3, Finals */
  #round-2 .match,
  #round-3 .match,
  #round-final .match{
    width: 200px;          /* prova 190–210 finché ti piace */
    padding-right: 10px;   /* un filo meno padding a destra */
  }

  /* Assicura che la riga squadra non “spinga” oltre */
  #round-2 .team,
  #round-3 .team,
  #round-final .team{
    grid-template-columns: var(--logo) var(--score); /* logo + punteggio */
    justify-content: start;
  }
}

/* (Opzionale) se vuoi farle adattare automaticamente al contenuto */
@supports (width: fit-content){
  @media (min-width: 769px){
    #round-2 .match,
    #round-3 .match,
    #round-final .match{
      width: fit-content;  /* niente spazio vuoto a destra */
    }
  }
/* ====== DESKTOP: split in 2 metà + Finals al centro ====== */
/* === HOTFIX: split desktop in 2 metà + finals al centro === */
/* ===== Split desktop: 2 metà + Finals al centro, offset con spacer CSS ===== */
:root{
  /* altezza “verticale” di una card + gap.
     Se la tua card è 190px di min-height e il gap è 18px -> 208px */
  --match-h: 190px;
  --gap-round: 18px;
  --match-v: calc(var(--match-h) + var(--gap-round));
}

@media (min-width: 1200px){
  /* ordine colonne: Round1 | Round2 | Finals | Round3 */
  .bracket.single{
    display: grid;
    grid-template-columns: max-content max-content max-content max-content;
    column-gap: 36px;
    align-items: start;
    justify-content: flex-start;
  }

  #round-1{ grid-column: 1; }
  #round-2{ grid-column: 2; }
  #round-final{ grid-column: 3; } /* Finals al centro */
  #round-3{ grid-column: 4; }

  /* ogni round ha 2 colonne (LEFT | RIGHT) e un row-gap definito */
  #round-1, #round-2, #round-3{
    display: grid;
    grid-template-columns: max-content max-content;
    column-gap: 28px;
    row-gap: var(--gap-round);
  }

  /* mappa le serie sulle 2 colonne */
  #round-1 .match[data-series^="L"]{ grid-column: 1; } /* lato sinistro */
  #round-1 .match[data-series^="R"]{ grid-column: 2; } /* lato destro */

  #round-2 .match[data-series^="LSF"]{ grid-column: 1; }
  #round-2 .match[data-series^="RSF"]{ grid-column: 2; }

  #round-3 .match[data-series^="LC"]{ grid-column: 1; } /* LCF */
  #round-3 .match[data-series^="RC"]{ grid-column: 2; } /* RCF */

  /* IMPORTANTISSIMO: rimuovi ogni padding-top precedente */
  #round-2, #round-3, #round-final{ padding-top: 0 !important; }

  /* OFFSET “perfetti” con spacer (::before) */
  #round-2::before,
  #round-3::before,
  #round-final::before{
    content: "";
    display: block;
    width: 1px;      /* invisibile, serve solo come altezza di spaziatura */
    height: 0;
  }

  /* Semifinali allineate tra 1°-2° e 3°-4° del Round 1 → metà passo */
  #round-2::before{ height: calc(0.5 * var(--match-v)); }

  /* Finali di conference a metà tra le semifinali → 1.5 passi */
  #round-3::before{ height: calc(1.5 * var(--match-v)); }

  /* Finals centrali tra le due finali di conference → stesso offset */
  #round-final::before{ height: calc(1.5 * var(--match-v)); }

  /* Compatta un filo i turni successivi (come avevi chiesto) */
  #round-2 .match,
  #round-3 .match,
  #round-final .match{
    width: 200px;
    padding-right: 10px;
  }
}
