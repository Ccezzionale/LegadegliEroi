/* ========== PALETTE & RESET ========== */
:root{
  --bg:#f4f4f4; --text:#222;
  --nav:#001f3f; --nav-hover:#0074D9; --subnav:#003366; --accent:#ffcc00;
  --card:#fff; --muted:#6b7280; --line:#e5e7eb;
  --seed-red:#d61f2a; --score-red:#c5161f;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background:var(--bg); color:var(--text);
}

/* ========== NAVBAR / HEADER (come index) ========== */
nav{ background:var(--nav); color:#fff; display:flex; align-items:center; padding:10px 20px; flex-wrap:wrap; }
.home-icon{ font-size:1.4rem; margin-right:20px; text-decoration:none; color:#fff; }
.hamburger{ font-size:1.5rem; cursor:pointer; margin-right:20px; display:none; }
.navbar{ list-style:none; padding:0; margin:0; display:flex; gap:15px; align-items:center; flex-wrap:wrap; }
.navbar li{ position:relative; }
.navbar a{ color:#fff; text-decoration:none; padding:8px 12px; display:block; }
.navbar a:hover{ background:var(--nav-hover); border-radius:6px; }
.submenu{ display:none; position:absolute; top:100%; left:0; background:var(--subnav); border-radius:4px; z-index:10; min-width:180px; flex-direction:column; }
.submenu a{ font-size:.95rem; }
.dropdown.show .submenu{ display:flex; }

.page-header,.cup-toolbar{ max-width:1200px; margin:28px auto 8px; padding:0 16px; }
.page-header h1{ color:var(--nav); margin:0 0 6px; font-size:2.1rem; text-shadow:2px 2px 8px var(--accent); }
.page-header p{ margin:0; color:var(--muted); font-size:1.02rem; }
.cup-toolbar{ margin:12px auto 10px; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.cup-toolbar .btn{ background:var(--nav); color:#fff; border:0; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600; box-shadow:0 2px 6px rgba(0,0,0,.06); }
.cup-toolbar .btn:hover{ filter:brightness(1.08); }

/* ========== BRACKET DESKTOP ========== */
.cup-container{ max-width:none; margin:10px 16px 48px; padding-right:16px; overflow-x:auto; }

.bracket{
  display:grid;
  grid-template-columns:minmax(360px,max-content) 240px minmax(360px,max-content); /* left | finals | right */
  gap:20px; align-items:start; width:max-content; justify-content:start;
}

/* colonne conference affiancate; destra invertita (Semifinali vicino alle Finals) */
.conference{ display:flex; gap:24px; align-items:flex-start; }
.conference.right{ flex-direction:row-reverse; }

/* nascondi “Conference (Left/Right)” e il titolo di sezione Finals */
.conf-title{ display:none !important; }

/* colonne-ROUND verticali + titolo sopra */
.round{ position:relative; display:flex; flex-direction:column; gap:14px; align-items:flex-start; }
.round::before{
  display:block; margin:0 0 8px; font-weight:700; color:var(--nav);
  border-left:4px solid var(--accent); padding-left:10px;
}
#left-round-1::before,  #right-round-1::before  { content:"1° turno"; }
#left-round-2::before,  #right-round-2::before  { content:"2° turno"; }
#left-round-3::before,  #right-round-3::before  { content:"Semifinali"; }
#nbafinals::before                               { content:"Finals"; }

/* === Match card compatta === */
.match{
  background:var(--card); border:1px solid var(--line); border-radius:14px;
  box-shadow:0 2px 6px rgba(0,0,0,.06);
  width:max-content; padding:10px 12px;
  display:flex; flex-direction:column; gap:20px;    /* spazio tra i 2 team */
}

/* === Riga squadra (Round 1: seed | logo | score) === */
.team{ display:grid; grid-template-columns:36px 92px auto; gap:12px; align-items:center; }

/* Seed (solo Round 1) */
.seed{
  width:28px; height:28px; background:var(--seed-red); color:#fff;
  display:grid; place-items:center; border-radius:8px; font-weight:800; font-size:.85rem;
}

/* Logo (solo immagine) */
.logo-wrap{ width:92px; height:92px; display:grid; place-items:center; background:transparent; border:0; border-radius:0; overflow:visible; }
.logo-wrap .logo{ width:100%; height:100%; object-fit:contain; display:block; }
.logo-wrap .logo{ max-width:98%; max-height:98%; } /* micro-respiro */
.logo-wrap.no-logo{ background:repeating-linear-gradient(45deg,#f1f5f9,#f1f5f9 10px,#e2e8f0 10px,#e2e8f0 20px); }

/* Score: numero singolo, compatto, a sinistra */
.score-box{
  width:42px; min-height:40px; padding:4px 8px; justify-self:start;
  background:var(--score-red); color:#fff; border:2px solid #8b0f15;
  border-radius:8px; font-weight:800; font-size:1.15rem; letter-spacing:0;
  display:grid; align-items:center; text-align:left; outline:none; user-select:text;
}
.score-box:empty:before{ content:attr(data-placeholder); opacity:.8; }
.score-box:focus{ box-shadow:0 0 0 3px rgba(197,22,31,.25); }
.score-box[contenteditable="false"]{
  cursor: default;
  caret-color: transparent;
  user-select: none;
}

/* === Round 2+ : nascondi seed, layout logo | score === */
#left-round-2 .seed, #left-round-3 .seed,
#right-round-2 .seed, #right-round-3 .seed,
#nbafinals .seed{ display:none; }

#left-round-2 .team, #left-round-3 .team,
#right-round-2 .team, #right-round-3 .team,
#nbafinals .team{ grid-template-columns:92px auto; gap:12px; }

/* ---- Layout ad "albero" per i round (sinistra e destra) ---- */
/* Altezza unità verticale: aumenta/diminuisci se serve più/meno spazio */
/* ---- Layout ad "albero" con titoli fissi sopra ---- */
/* ===== Bracket ad albero e titoli sopra ===== */
/* ===== Layout ad albero per le CONFERENCES (Left/Right) ===== */
:root { --slot: 150px; } /* puoi cambiare l'altezza verticale di uno “step” */

/* Solo le colonne di conference diventano griglie verticali */
.conference .round{
  position: relative;
  display: grid !important;
  grid-template-rows: repeat(8, var(--slot, 150px));  /* 8 step fissi con fallback */
  row-gap: 0;
  min-height: calc(8 * var(--slot, 150px));          /* evita collassi */
}

/* Niente margini dalle card: lascia gestire alla griglia */
.conference .round .match{ margin: 0; }

/* Titoli dei round sopra, fuori flusso (non spingono i match) */
.conference .round::before{
  position: absolute;
  top: -26px; left: 0;
  padding-left: 10px;
  border-left: 4px solid var(--accent);
  font-weight: 700; color: var(--nav);
  content: ""; /* riempito sotto */
}

/* Testi dei round */
#left-round-1::before,  #right-round-1::before  { content: "1° turno"; }
#left-round-2::before,  #right-round-2::before  { content: "2° turno"; }
#left-round-3::before,  #right-round-3::before  { content: "Semifinali"; }

/* Posizionamento ad albero — LEFT */
#left-round-1 .match:nth-of-type(1){ grid-row: 1 / span 2; }
#left-round-1 .match:nth-of-type(2){ grid-row: 3 / span 2; }
#left-round-1 .match:nth-of-type(3){ grid-row: 5 / span 2; }
#left-round-1 .match:nth-of-type(4){ grid-row: 7 / span 2; }

#left-round-2 .match:nth-of-type(1){ grid-row: 2 / span 4; }
#left-round-2 .match:nth-of-type(2){ grid-row: 6 / span 4; }

#left-round-3 .match:nth-of-type(1){ grid-row: 4 / span 8; }

/* Posizionamento ad albero — RIGHT (uguale) */
#right-round-1 .match:nth-of-type(1){ grid-row: 1 / span 2; }
#right-round-1 .match:nth-of-type(2){ grid-row: 3 / span 2; }
#right-round-1 .match:nth-of-type(3){ grid-row: 5 / span 2; }
#right-round-1 .match:nth-of-type(4){ grid-row: 7 / span 2; }

#right-round-2 .match:nth-of-type(1){ grid-row: 2 / span 4; }
#right-round-2 .match:nth-of-type(2){ grid-row: 6 / span 4; }

#right-round-3 .match:nth-of-type(1){ grid-row: 4 / span 8; }

/* Mostra il titolo centrale delle Finals, nascondi quelli delle conference */
.conference > .conf-title { display: none; }
.finals     > .conf-title { display: block; }

/* ===== CONNECTORS compatti (tra i turni) ===== */
:root{
  --conn: 26px;             /* lunghezza orizzontale */
  --conn-w: 2px;            /* spessore linea */
  --conn-color: #c9d0da;    /* colore linea */
}

/* serve per posizionare le pseudo-layers sotto le card */
.conference .match,
#nbafinals .match{
  position: relative;
  z-index: 1;
}

/* ---------- LATO SINISTRO (Left) ---------- */
/* orizzontali in uscita (→) da ogni turno */
#left-round-1 .match::after,
#left-round-2 .match::after,
#left-round-3 .match::after{
  content:"";
  position:absolute;
  top: calc(50% - var(--conn-w)/2);
  right: calc(-1 * var(--conn));
  width: var(--conn);
  border-top: var(--conn-w) solid var(--conn-color);
  z-index: 0;
}
/* spine verticali centrate sul match del turno successivo */
#left-round-2 .match::before{
  content:"";
  position:absolute;
  left: calc(-1 * var(--conn));
  top: calc(50% - var(--slot)/2);
  height: var(--slot);
  border-left: var(--conn-w) solid var(--conn-color);
  z-index: 0;
}
#left-round-3 .match::before{
  content:"";
  position:absolute;
  left: calc(-1 * var(--conn));
  top: calc(50% - (var(--slot) * 2)/2);
  height: calc(var(--slot) * 2);
  border-left: var(--conn-w) solid var(--conn-color);
  z-index: 0;
}

/* ---------- LATO DESTRO (Right) ---------- */
/* orizzontali in uscita (←) da ogni turno */
#right-round-1 .match::after,
#right-round-2 .match::after,
#right-round-3 .match::after{
  content:"";
  position:absolute;
  top: calc(50% - var(--conn-w)/2);
  left: calc(-1 * var(--conn));
  width: var(--conn);
  border-top: var(--conn-w) solid var(--conn-color);
  z-index: 0;
}
/* spine verticali centrate sul match del turno successivo */
#right-round-2 .match::before{
  content:"";
  position:absolute;
  right: calc(-1 * var(--conn));
  top: calc(50% - var(--slot)/2);
  height: var(--slot);
  border-right: var(--conn-w) solid var(--conn-color);
  z-index: 0;
}
#right-round-3 .match::before{
  content:"";
  position:absolute;
  right: calc(-1 * var(--conn));
  top: calc(50% - (var(--slot) * 2)/2);
  height: calc(var(--slot) * 2);
  border-right: var(--conn-w) solid var(--conn-color);
  z-index: 0;
}

/* ---------- FINALS ----------
   (solo stanghette verso sinistra e destra, niente spine lunghe) */
#nbafinals .match::before,
#nbafinals .match::after{
  content:"";
  position:absolute;
  top: calc(50% - var(--conn-w)/2);
  width: var(--conn);
  border-top: var(--conn-w) solid var(--conn-color);
  z-index: 0;
}
#nbafinals .match::before{ left:  calc(-1 * var(--conn)); } /* da sinistra → Finals */
#nbafinals .match::after { right: calc(-1 * var(--conn)); } /* da destra   → Finals */




/* ========== MOBILE ========== */
.bracket-mobile{ display:none; }

@media (max-width:768px){
  .hamburger{ display:block; }
  .navbar{ display:none; flex-direction:column; width:100%; background:var(--nav); margin-top:10px; }
  .navbar.show{ display:flex; }
  .submenu{ position:relative; background:var(--subnav); margin-left:10px; }
  .dropdown .submenu a{ padding-left:20px; }

  .bracket{ display:none !important; }
  .bracket-mobile{ display:block; }

  .round-mobile{
    margin-bottom:22px; background:var(--card); border:1px solid var(--line);
    border-radius:14px; padding:10px; box-shadow:0 2px 6px rgba(0,0,0,.06);
  }
  .round-mobile h3{ font-size:1.05rem; color:var(--nav); margin:6px 0 12px; border-left:4px solid var(--accent); padding-left:10px; }

  .match{ padding:10px; gap:12px; display:grid; grid-template-rows:auto auto; row-gap:12px; }
  .team{ grid-template-columns:32px 72px auto; gap:10px; }
  .seed{ width:32px; height:32px; font-size:.9rem; }
  .logo-wrap{ width:72px; height:72px; }
  .score-box{ min-height:44px; font-size:1.05rem; width:40px; padding:4px 8px; }
}

/* ========== MICRO ========== */
[contenteditable]:empty{ cursor:text; }
